# Tutorials Dojo - GCP Deployment Configuration
# Edit these values according to your setup

# =============================================================================
# GCP SETTINGS - Following your specifications
# =============================================================================

# Your GCP Project ID (REQUIRED) - Following your naming
PROJECT_ID="td-playcloud-labs"

# VM Instance Configuration - Following your specifications
INSTANCE_NAME="td-firecracker-starter01"
MACHINE_TYPE="n2-standard-2"           # n2 series for better nested virtualization
CPU_PLATFORM="AUTOMATIC"              # Let GCP choose optimal CPU
BOOT_DISK_SIZE="100GB"                 # Disk space for the VM
DISK_TYPE="pd-ssd"                     # Use SSD for better performance

# Location Settings - Following your guide
REGION="us-east1"                      # GCP region
ZONE="us-east1-b"                      # GCP zone (your specified zone)

# Network Settings
NETWORK="default"                      # GCP network to use
TAGS="firecracker-vm,http-server,https-server,ssh-server"

# Image Settings - Using Ubuntu Pro as per your guide
IMAGE_FAMILY="ubuntu-pro-2204-jammy-v20220923"
IMAGE_PROJECT="ubuntu-os-pro-cloud"

# =============================================================================
# GITHUB SETTINGS
# =============================================================================

# Your GitHub Repository (REQUIRED)
# Format: https://github.com/username/repository-name.git
GITHUB_REPO_URL="https://github.com/maxinesofia/dojo-code-spark-48.git"

# Git Branch to Deploy
GITHUB_BRANCH="main"

# Deploy Key Name (for identification)
DEPLOY_KEY_NAME="tutorials-dojo-deploy-key"

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Port Configuration
APP_PORT="8080"                        # Backend API port
NGINX_PORT="80"                        # HTTP port
SSL_PORT="443"                         # HTTPS port (after SSL setup)

# Database Configuration
DATABASE_TYPE="sqlite"                 # Database type (sqlite for development)
DATABASE_PATH="/opt/tutorials-dojo/database.sqlite"

# Environment
NODE_ENV="production"                  # Node.js environment
LOG_LEVEL="info"                       # Logging level

# =============================================================================
# FIRECRACKER SETTINGS
# =============================================================================

# Firecracker VM Resources
FIRECRACKER_VCPU="1"                   # Virtual CPUs per microVM
FIRECRACKER_MEMORY="256"               # Memory in MB per microVM
FIRECRACKER_TIMEOUT="30"               # Execution timeout in seconds

# Rootfs Configuration
ROOTFS_SIZE="500"                      # Rootfs size in MB
FIRECRACKER_KERNEL_URL="https://s3.amazonaws.com/spec.ccfc.min/img/quickstart_guide/x86_64/kernels/vmlinux.bin"

# =============================================================================
# SSL/HTTPS SETTINGS
# =============================================================================

# Domain Configuration (for SSL setup)
# Set this to your domain name for SSL certificate
DOMAIN_NAME=""                         # e.g., "yourdomain.com"
EMAIL_FOR_SSL=""                       # e.g., "admin@yourdomain.com"

# SSL Provider
SSL_PROVIDER="letsencrypt"             # Currently supports: letsencrypt

# =============================================================================
# MONITORING & BACKUP SETTINGS
# =============================================================================

# Auto-update Configuration
AUTO_UPDATE_ENABLED="true"             # Enable automatic updates from GitHub
AUTO_UPDATE_INTERVAL="5"               # Check interval in minutes

# Backup Settings
BACKUP_ENABLED="true"                  # Enable automatic backups
BACKUP_RETENTION_DAYS="7"              # Days to keep backups

# Monitoring
MONITORING_ENABLED="true"              # Enable monitoring
LOG_RETENTION_DAYS="30"                # Days to keep logs

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# VM Image
IMAGE_FAMILY="ubuntu-2204-lts"         # Ubuntu version
IMAGE_PROJECT="ubuntu-os-cloud"        # Image project

# Networking
ENABLE_IP_FORWARDING="true"            # Enable IP forwarding for Firecracker
ENABLE_UFW_FIREWALL="true"             # Enable UFW firewall

# Service Configuration
RESTART_POLICY="always"                # Service restart policy
RESTART_DELAY="5"                      # Restart delay in seconds

# Development Settings
DEBUG_MODE="false"                     # Enable debug mode
VERBOSE_LOGGING="false"                # Enable verbose logging

# =============================================================================
# FALLBACK ZONES
# =============================================================================
# These zones will be tried if the primary zone is unavailable
FALLBACK_ZONES=(
    "us-east1-c"
    "us-east1-d"
    "us-central1-a"
    "us-central1-b"
    "us-central1-c"
    "us-west1-a"
    "us-west1-b"
    "us-west1-c"
    "europe-west1-b"
    "europe-west1-c"
    "asia-southeast1-a"
    "asia-southeast1-b"
)

# =============================================================================
# USAGE NOTES
# =============================================================================

# 1. REQUIRED CHANGES:
#    - Set your PROJECT_ID
#    - Verify GITHUB_REPO_URL points to your repository
#    - Set DOMAIN_NAME and EMAIL_FOR_SSL for SSL setup

# 2. OPTIONAL CUSTOMIZATIONS:
#    - Adjust MACHINE_TYPE for performance needs
#    - Change ZONE/REGION for geographic preferences
#    - Modify Firecracker settings for security/performance balance

# 3. MACHINE TYPE OPTIONS:
#    - n1-standard-1 (1 vCPU, 3.75 GB RAM) - Minimal
#    - n1-standard-2 (2 vCPU, 7.5 GB RAM) - Light
#    - n1-standard-4 (4 vCPU, 15 GB RAM) - Recommended
#    - n1-standard-8 (8 vCPU, 30 GB RAM) - Heavy workload

# 4. COST CONSIDERATIONS:
#    - Larger machine types cost more
#    - SSD disks are more expensive than standard disks
#    - Stop VMs when not in use to save costs

# 5. SECURITY NOTES:
#    - Keep DEBUG_MODE=false in production
#    - Use strong SSH keys
#    - Enable UFW firewall
#    - Regular security updates are applied automatically
